% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/representative_points.R
\name{surveyzones_representative_points}
\alias{surveyzones_representative_points}
\title{Compute representative points for census tracts}
\usage{
surveyzones_representative_points(
  households,
  tract_col = "COD_SETOR",
  lat_col = "LATITUDE",
  lon_col = "LONGITUDE",
  crs = 4674L
)
}
\arguments{
\item{households}{A data frame (or tibble) with household address data. Must
contain columns for tract identifier, latitude, and longitude. Typically
the output of \code{cnefetools::read_cnefe()} (collected) or any data frame
with geocoded addresses.}

\item{tract_col}{Character. Column name for the census tract identifier.
Default \code{"COD_SETOR"} (cnefetools convention).}

\item{lat_col}{Character. Column name for latitude. Default \code{"LATITUDE"}.}

\item{lon_col}{Character. Column name for longitude. Default \code{"LONGITUDE"}.}

\item{crs}{Integer. Coordinate reference system for the output.
Default \code{4674L} (SIRGAS 2000).}
}
\value{
An sf POINT object (CRS as specified) with one row per tract that
has at least one geocoded address. Columns:
\describe{
\item{tract_id}{Census tract identifier (character)}
\item{n_addresses}{Total household addresses in the tract}
\item{n_geocoded}{Number of addresses with valid coordinates}
\item{geometry}{sf POINT geometry â€” highest-density household location}
}
}
\description{
Given household address data with coordinates, computes one representative
point per census tract using kernel density estimation. This is the main
entry point for generating access points compatible with
\code{\link[=surveyzones_compute_sparse_distances]{surveyzones_compute_sparse_distances()}}.
}
\details{
For each tract, the function finds the location with the highest
concentration of geocoded addresses, using kernel density estimation via
\code{\link[=surveyzones_density_point]{surveyzones_density_point()}}. This is more robust than a simple centroid
for tracts with irregular shapes or address clusters.

Requires the \code{spatstat.geom} and \code{spatstat.explore} packages. Install with
\code{install.packages(c("spatstat.geom", "spatstat.explore"))}.
}
\examples{
\dontrun{
library(cnefetools)
library(dplyr)

# Download CNEFE for Rio de Janeiro city
cnefe_rj <- read_cnefe(code_muni = 3304557) |> collect()

# Compute one representative point per tract
access_pts <- surveyzones_representative_points(cnefe_rj)
}

}
\seealso{
\code{\link[=surveyzones_density_point]{surveyzones_density_point()}}, \code{\link[=surveyzones_centroid_point]{surveyzones_centroid_point()}}
}
